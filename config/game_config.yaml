debug_mode: true
display:
  fullscreen: False
  windowed_scale: 3
battle_background:
  base_resolution: [160, 120]
  speed_multiplier: 1.5 
action_judge:
  backend: "llm"
  llm:
    model: "glm-4.7"
    type: "zai"
narrator:
  llm:
    model: "glm-4.7"
    type: "zai"
enemy_action:
  llm:
    model: "glm-4.7"
    type: "zai"
enemy_generation:
  llm:
    model: "glm-4.5-flash"
    type: "zai"
  character_words_path: "src/llm_rpg/assets/word_lists/characters.txt"
  adjective_words_path: "src/llm_rpg/assets/word_lists/adjectives.txt"
  place_words_path: "src/llm_rpg/assets/word_lists/places.txt"
sprite_generator:
  type: "ascii"
  prompt_llm:
    model: "glm-4.5-flash"
    type: "zai"

  #type: "dummy"
  #latency_seconds: 0.0

  #type: "gemini"
  #prompt_llm:
  #  model: "glm-4.7"
  #  type: "zai"
  #prompt_template: |
  #  Create a detailed image generation prompt for a pixel art RPG enemy sprite.
  #
  #  Enemy name: {enemy_name}
  #  Enemy description: {enemy_description}
  #
  #  Requirements:
  #  - Style: SNES-era EarthBound/Mother style, pixel art
  #  - Background: Neutral grey or white
  #  - The prompt should be in English
  #  - Focus on visual elements only: appearance, colors, pose, style
  #  - Keep it concise (under 100 words)
  #cache_dir: "cache/sprites"
  #state_dir: ".playwright_state"
  #headless: false
hero:
  base_hero_stats:
    attack: 5
    defense: 5
    focus: 20
    max_hp: 5
  stats_level_up_amount: 5
  max_items: 3
  classes:
    attack:
      class_name: "Gym Bro"
      description: "Good on the offensive, hits hard but thinks less."
      base_stats:
        attack: 5
        defense: 5
        focus: 10
        max_hp: 10
    focus:
      class_name: "Awkward Poet"
      description: "Is able to deal damage by the sheer force of his words and imagination."
      base_stats:
        attack: 5
        defense: 5
        focus: 10
        max_hp: 10
    defense:
      class_name: "Doomsday Prepper"
      description: "Survivalist focussed on defending himself and negating damage."
      base_stats:
        attack: 5
        defense: 5
        focus: 10
        max_hp: 10
enemy:
  enemy_level_scaling:
    exp_growth_rate: 1.2
    linear_growth_rate: 0.6
    linear_scaling_factor: 0.8
  leveling_stats_probs:
    attacker:
      attack: 0.7
      defense: 0.2
      max_hp: 0.1
    defender:
      attack: 0.1
      defense: 0.7
      max_hp: 0.2
    tank:
      attack: 0.1
      defense: 0.2
      max_hp: 0.7
  stats_level_up_amount: 5
  base_stats:
    attack: 2
    defense: 2
    focus: 10
    max_hp: 5
damage_calculator:
  ad_diff_scaling: 0.5
  ad_parity_dmg: 1.25
  random_factor_max: 1.05
  random_factor_min: 0.95
  llm_dmg_impact: 2
  creativity_bonus_per_new_word: 0.1
  creativity_penalty_per_overused_word: 0.1
  creativity_min_new_words_for_bonus: 2
creativity_tracker:
  word_overuse_threshold: 2
prompts:
  action_judge: |
    You are a video game ai that determines the feasibility and potential damage of proposed actions in a battle
    between two characters.

    The characters are:
    - {attacker_name}
    - {defender_name}

    {attacker_name} is attacking {defender_name}.

    {attacker_name} description:
    {attacker_description}

    {defender_name} description:
    {defender_description}

    {hero_name} items in inventory:
    {items_hero}

    Battle history:
    {battle_log_string}

    Proposed action of {attacker_name}:
    {proposed_action_attacker}

    You should score feasibility and potential damage. Actions should have different effects depending on the history.

    It is infeasible for {hero_name} to use items not in his inventory.
    Supernatural moves by {hero_name} are impossible unless the items or description of {hero_name} hints at it.
    
    Important: repeated actions by {attacker_name} should have reduced potential damage, look in the battle history for past actions.
    Vaguely worded actions should also have reduced potential damage as I want to promote precise or verbose actions.

    I need you to output the feasibility and potential damage of the proposed action in the following JSON format:

  action_narration: |
    You are a video game narrator that describes the result of a proposed action in a battle.

    The characters are:
    - {attacker_name}
    - {defender_name}

    {attacker_name} is attacking {defender_name}.

    {attacker_name} description:
    {attacker_description}

    {defender_name} description:
    {defender_description}

    {hero_name} items in inventory:
    {items_hero}

    Battle history:
    {battle_log_string}

    Proposed action of {attacker_name}:
    {proposed_action_attacker}

    Feasibility score: {feasibility}
    Potential damage score: {potential_damage}
    Total damage dealt: {total_damage}

    Describe the effect of the action in a single sentence. If the action was infeasible, explain why.

  enemy_next_action: |
    You are a video game character called {self_name} that is in a battle against an enemy called {hero_name}.
    Try to come up with a natural action based on the battle history and the current HP of both characters.
    
    You should try to defeat the enemy or reduce their HP to 0.

    Don't repeat the same action every turn.
    
    You have the following description:
    {self_description}

    The enemy, {hero_name}, has the following description:
    {hero_description}

    Current battle history:
    {battle_log_string}

    HP of you, {self_name}: {self_max_hp}
    HP of {hero_name}: {hero_max_hp}
    
    Describe your next action very briefly in third person like a narrator would.
    Just describe what you want to do not the effects or results of the action.

  enemy_generation: |
    You are generating a single enemy for a turn-based RPG battle.
    The enemy must be clearly related to at least one of the following:
    - Adjective: "{enemy_adjective}"
    - Noun: "{enemy_character}"
    - Place/setting: "{enemy_place}"
    
    Create a coherent, memorable enemy name and a short description:
    Style Guidelines: 
      - Fits a quirky SNES-era RPG (EarthBound, Dragon Quest–like)
      - Quirkiness should come from personality, behavior, or theme — not random word combinations
      - Simple and memorable is better than complex and obscure

    Output only valid JSON matching this schema:
